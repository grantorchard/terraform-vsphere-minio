{
  "version": 4,
  "terraform_version": "0.12.20",
  "serial": 455,
  "lineage": "e8fa07fd-2439-7112-b406-896aab5c57af",
  "outputs": {
    "metadata": {
      "value": "\nlocal-hostname: minio\ninstance-id: minio\nnetwork:\n  version: 2\n  ethernets:\n    ens192:\n      dhcp4: false\n      addresses:\n        - 10.0.3.2/24\n      gateway4: 10.0.3.1\n      nameservers:\n        addresses: [\"192.168.1.5\",\"192.168.1.6\"]\n      ",
      "type": "string"
    },
    "userdata": {
      "value": "\n#cloud-config\nusers:\n  - name: grant\n    ssh-authorized-keys:\n     - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC8rqxon4hRyV5cLNZczuJTe8dsZ33hpWHDU993r4iiY3t9bXqfmIHlIZ7dTL93nlvsgzVdOYMVGMOHMg/a1ZK0VRoKTS5BBhBGJejjDUfWRAtedZbM9JE5HHpks+L+nf8cOM14Os+Q3BV+z4MjYfIK5ZbV0IvUaY0kscQcE8cZoOTC2hHu/MPDneKJxG+HRQJfvqvnWz69/EXyi9iqtmOn0Xy9905qtbPNlDs1c4qF+zZ1qQCkMYP0Z4AVvLaPEJZlPmDnGqz5s1vVb130aXe1A11eq4RwgvZRxXW8i88pKqCGPuLRh7anqvSI15SLpA2KWvu7wD5CvhTisc/6TfVf\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    groups: sudo\n    shell: /bin/bash\n\npackages:\n  - jq\n  - unzip\n\nwrite_files:\n  - path: /etc/environment\n    content: |\n      MINIO_ACCESS_KEY=admin\n      MINIO_SECRET_KEY=Hashi123!\n    append: true\n  - path: /etc/systemd/system/minio.service\n    content: W1VuaXRdCkRlc2NyaXB0aW9uPU1pbklPCkRvY3VtZW50YXRpb249aHR0cHM6Ly9kb2NzLm1pbi5pbwpXYW50cz1uZXR3b3JrLW9ubGluZS50YXJnZXQKQWZ0ZXI9bmV0d29yay1vbmxpbmUudGFyZ2V0CkFzc2VydEZpbGVJc0V4ZWN1dGFibGU9L3Vzci9sb2NhbC9iaW4vbWluaW8KCltTZXJ2aWNlXQpXb3JraW5nRGlyZWN0b3J5PS91c3IvbG9jYWwvCgpVc2VyPXJvb3QKR3JvdXA9cm9vdAoKRW52aXJvbm1lbnRGaWxlPS9ldGMvbWluaW8uZC9taW5pbwpFeGVjU3RhcnRQcmU9L2Jpbi9iYXNoIC1jICJpZiBbIC16IFwiJHtNSU5JT19WT0xVTUVTfVwiIF07IHRoZW4gZWNobyBcIlZhcmlhYmxlIE1JTklPX1ZPTFVNRVMgbm90IHNldCBpbiAvZXRjL21pbmlvLmQvbWluaW9cIjsgZXhpdCAxOyBmaSIKCkV4ZWNTdGFydD0vdXNyL2xvY2FsL2Jpbi9taW5pbyBzZXJ2ZXIgJE1JTklPX09QVFMgJE1JTklPX1ZPTFVNRVMKCiMgTGV0IHN5c3RlbWQgcmVzdGFydCB0aGlzIHNlcnZpY2UgYWx3YXlzClJlc3RhcnQ9YWx3YXlzCgojIFNwZWNpZmllcyB0aGUgbWF4aW11bSBmaWxlIGRlc2NyaXB0b3IgbnVtYmVyIHRoYXQgY2FuIGJlIG9wZW5lZCBieSB0aGlzIHByb2Nlc3MKTGltaXROT0ZJTEU9NjU1MzYKCiMgRGlzYWJsZSB0aW1lb3V0IGxvZ2ljIGFuZCB3YWl0IHVudGlsIHByb2Nlc3MgaXMgc3RvcHBlZApUaW1lb3V0U3RvcFNlYz1pbmZpbml0eQpTZW5kU0lHS0lMTD1ubwoKW0luc3RhbGxdCldhbnRlZEJ5PW11bHRpLXVzZXIudGFyZ2V0\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n  - path: /etc/minio.d/minio\n    content: TUlOSU9fVk9MVU1FUz0iL3Vzci9sb2NhbC9zaGFyZS9taW5pby8iCk1JTklPX09QVFM9Ii1DIC9ldGMvbWluaW8uZC8gLS1jZXJ0cy1kaXIgL2V0Yy9taW5pby5kL2NlcnRzIC0tYWRkcmVzcyAxMC4wLjMuMjo5MDAwIgpNSU5JT19BQ0NFU1NfS0VZPWFkbWluCk1JTklPX1NFQ1JFVF9LRVk9SGFzaGkxMjMh\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n  - path: /etc/systemd/system/vault.service\n    content: W1VuaXRdCkRlc2NyaXB0aW9uPVZhdWx0IEFnZW50ClJlcXVpcmVzPW5ldHdvcmsub25saW5lCgpbU2VydmljZV0KUmVzdGFydD1vbi1mYWlsdXJlClBlcm1pc3Npb25zU3RhcnRPbmx5PXRydWUKRXhlY1N0YXJ0UHJlPS9zYmluL3NldGNhcCAnY2FwX2lwY19sb2NrPStlcCcgL3Vzci9sb2NhbC9iaW4vdmF1bHQKRXhlY1N0YXJ0PS91c3IvbG9jYWwvYmluL3ZhdWx0IGFnZW50IC1jb25maWcgL2V0Yy92YXVsdC5kL3ZhdWx0LmNvbmYKRXhlY1JlbG9hZD0vYmluL2tpbGwgLUhVUCAkTUFJTlBJRApLaWxsU2lnbmFsPVNJR1RFUk0KVXNlcj1yb290Ckdyb3VwPXJvb3QKTGltaXRNRU1MT0NLPWluZmluaXR5CgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQ=\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n  - path: /etc/vault.d/roleid\n    content: cfa46d85-cb67-4f78-3239-0ff544f68a81\n    permissions: '0644'\n    owner: root:root\n  - path: /etc/vault.d/secretid\n    content: s.KrVK1VsPgj0VWT5zB9eGeoni\n    permissions: '0644'\n    owner: root:root\n  - path: /etc/vault.d/vault.conf\n    content: cGlkX2ZpbGUgPSAiLi9waWRmaWxlIgoKdmF1bHQgewogIGFkZHJlc3MgPSAiaHR0cDovL3ZhdWx0Lmh1bWJsZWxhYi5jb206ODIwMCIKfQoKYXV0b19hdXRoIHsKICBtZXRob2QgewogICAgdHlwZSAgID0gImFwcHJvbGUiCiAgICBjb25maWcgPSB7CiAgICAgIHJvbGVfaWRfZmlsZV9wYXRoID0gIi9ldGMvdmF1bHQuZC9yb2xlaWQiCiAgICAgIHNlY3JldF9pZF9maWxlX3BhdGggPSAiL2V0Yy92YXVsdC5kL3NlY3JldGlkIgogICAgICBzZWNyZXRfaWRfcmVzcG9uc2Vfd3JhcHBpbmdfcGF0aCA9ICJhdXRoL2FwcHJvbGUvcm9sZS9taW5pby9zZWNyZXQtaWQiCiAgICAgIHJlbW92ZV9zZWNyZXRfaWRfZmlsZV9hZnRlcl9yZWFkaW5nID0gImZhbHNlIgogICAgfQogIH0KICBzaW5rICJmaWxlIiB7CiAgICBjb25maWcgPSB7CiAgICAgIHBhdGggPSAiL2V0Yy92YXVsdC5kL3NpbmsiCiAgICB9CiAgfQp9Cgp0ZW1wbGF0ZSB7CiAgY29udGVudHMgICAgPSAie3sgd2l0aCBzZWNyZXQgXCJwa2kvaXNzdWUvaHVtYmxlbGFiXCIgXCJjb21tb25fbmFtZT1taW5pby5odW1ibGVsYWIuY29tXCIgfX17eyAuRGF0YS5jZXJ0aWZpY2F0ZSB9fXt7IGVuZCB9fSIKICBkZXN0aW5hdGlvbiA9ICIvZXRjL21pbmlvLmQvY2VydHMvcHVibGljLmNydCIKICBiYWNrdXAgICAgICA9IHRydWUKICBjb21tYW5kICAgICA9ICJzeXN0ZW1jdGwgcmVzdGFydCBtaW5pbyIKfQoKdGVtcGxhdGUgewogIGNvbnRlbnRzICAgID0gInt7IHdpdGggc2VjcmV0IFwicGtpL2lzc3VlL2h1bWJsZWxhYlwiIFwiY29tbW9uX25hbWU9bWluaW8uaHVtYmxlbGFiLmNvbVwiIH19e3sgLkRhdGEucHJpdmF0ZV9rZXkgfX17eyBlbmQgfX0iCiAgZGVzdGluYXRpb24gPSAiL2V0Yy9taW5pby5kL2NlcnRzL3ByaXZhdGUua2V5IgogIGJhY2t1cCAgICAgID0gdHJ1ZQogIGNvbW1hbmQgICAgID0gInN5c3RlbWN0bCByZXN0YXJ0IG1pbmlvIgp9Cgo=\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n\nruncmd:\n  - curl -O https://dl.minio.io/server/minio/release/linux-amd64/minio\n  - mv minio /usr/local/bin\n  - chmod +x /usr/local/bin/minio\n  - install -d -m 0755 -o root -g root /usr/local/share/minio\n  - systemctl daemon-reload\n  - systemctl restart minio\n  - curl -O https://releases.hashicorp.com/vault/1.4.0-rc1+ent/vault_1.4.0-rc1+ent_linux_amd64.zip\n  - unzip vault_1.4.0-rc1+ent_linux_amd64.zip\n  - mv vault -t /usr/local/bin\n  - chmod +x /usr/local/bin/vault\n  - systemctl restart vault",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "template_file",
      "name": "metadata",
      "provider": "provider.template",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "aa94faf5327a7b0833729a80c000140fa63b285eb6db177bf7a082f48bc93c9f",
            "rendered": "local-hostname: minio\ninstance-id: minio\nnetwork:\n  version: 2\n  ethernets:\n    ens192:\n      dhcp4: false\n      addresses:\n        - 10.0.3.2/24\n      gateway4: 10.0.3.1\n      nameservers:\n        addresses: [\"192.168.1.5\",\"192.168.1.6\"]\n      ",
            "template": "local-hostname: ${hostname}\ninstance-id: ${hostname}\nnetwork:\n  version: 2\n  ethernets:\n    ens192:\n      %{ if dhcp == \"true\" }dhcp4: true\n      %{ else }dhcp4: false\n      addresses:\n        - ${ip_address}/${netmask}\n      gateway4: ${gateway}\n      nameservers:\n        addresses: ${nameservers}\n      %{ endif }",
            "vars": {
              "dhcp": "false",
              "gateway": "10.0.3.1",
              "hostname": "minio",
              "ip_address": "10.0.3.2",
              "nameservers": "[\"192.168.1.5\",\"192.168.1.6\"]",
              "netmask": "24"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "minio_conf",
      "provider": "provider.template",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "c75ae6c29c794c53296594c7a16421228c6382e140fb7373ee8c3324a9c82c77",
            "rendered": "MINIO_VOLUMES=\"/usr/local/share/minio/\"\nMINIO_OPTS=\"-C /etc/minio.d/ --certs-dir /etc/minio.d/certs --address 10.0.3.2:9000\"\nMINIO_ACCESS_KEY=admin\nMINIO_SECRET_KEY=Hashi123!",
            "template": "MINIO_VOLUMES=\"/usr/local/share/minio/\"\nMINIO_OPTS=\"-C /etc/minio.d/ --certs-dir /etc/minio.d/certs --address ${ip_address}:9000\"\nMINIO_ACCESS_KEY=admin\nMINIO_SECRET_KEY=Hashi123!",
            "vars": {
              "ip_address": "10.0.3.2"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "userdata",
      "provider": "provider.template",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "fdd279ed26b5f8deab5004d489a52268ea57d4e6c8a4ba3b3fbd5605d79cf230",
            "rendered": "#cloud-config\nusers:\n  - name: grant\n    ssh-authorized-keys:\n     - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC8rqxon4hRyV5cLNZczuJTe8dsZ33hpWHDU993r4iiY3t9bXqfmIHlIZ7dTL93nlvsgzVdOYMVGMOHMg/a1ZK0VRoKTS5BBhBGJejjDUfWRAtedZbM9JE5HHpks+L+nf8cOM14Os+Q3BV+z4MjYfIK5ZbV0IvUaY0kscQcE8cZoOTC2hHu/MPDneKJxG+HRQJfvqvnWz69/EXyi9iqtmOn0Xy9905qtbPNlDs1c4qF+zZ1qQCkMYP0Z4AVvLaPEJZlPmDnGqz5s1vVb130aXe1A11eq4RwgvZRxXW8i88pKqCGPuLRh7anqvSI15SLpA2KWvu7wD5CvhTisc/6TfVf\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    groups: sudo\n    shell: /bin/bash\n\npackages:\n  - jq\n  - unzip\n\nwrite_files:\n  - path: /etc/environment\n    content: |\n      MINIO_ACCESS_KEY=admin\n      MINIO_SECRET_KEY=Hashi123!\n    append: true\n  - path: /etc/systemd/system/minio.service\n    content: W1VuaXRdCkRlc2NyaXB0aW9uPU1pbklPCkRvY3VtZW50YXRpb249aHR0cHM6Ly9kb2NzLm1pbi5pbwpXYW50cz1uZXR3b3JrLW9ubGluZS50YXJnZXQKQWZ0ZXI9bmV0d29yay1vbmxpbmUudGFyZ2V0CkFzc2VydEZpbGVJc0V4ZWN1dGFibGU9L3Vzci9sb2NhbC9iaW4vbWluaW8KCltTZXJ2aWNlXQpXb3JraW5nRGlyZWN0b3J5PS91c3IvbG9jYWwvCgpVc2VyPXJvb3QKR3JvdXA9cm9vdAoKRW52aXJvbm1lbnRGaWxlPS9ldGMvbWluaW8uZC9taW5pbwpFeGVjU3RhcnRQcmU9L2Jpbi9iYXNoIC1jICJpZiBbIC16IFwiJHtNSU5JT19WT0xVTUVTfVwiIF07IHRoZW4gZWNobyBcIlZhcmlhYmxlIE1JTklPX1ZPTFVNRVMgbm90IHNldCBpbiAvZXRjL21pbmlvLmQvbWluaW9cIjsgZXhpdCAxOyBmaSIKCkV4ZWNTdGFydD0vdXNyL2xvY2FsL2Jpbi9taW5pbyBzZXJ2ZXIgJE1JTklPX09QVFMgJE1JTklPX1ZPTFVNRVMKCiMgTGV0IHN5c3RlbWQgcmVzdGFydCB0aGlzIHNlcnZpY2UgYWx3YXlzClJlc3RhcnQ9YWx3YXlzCgojIFNwZWNpZmllcyB0aGUgbWF4aW11bSBmaWxlIGRlc2NyaXB0b3IgbnVtYmVyIHRoYXQgY2FuIGJlIG9wZW5lZCBieSB0aGlzIHByb2Nlc3MKTGltaXROT0ZJTEU9NjU1MzYKCiMgRGlzYWJsZSB0aW1lb3V0IGxvZ2ljIGFuZCB3YWl0IHVudGlsIHByb2Nlc3MgaXMgc3RvcHBlZApUaW1lb3V0U3RvcFNlYz1pbmZpbml0eQpTZW5kU0lHS0lMTD1ubwoKW0luc3RhbGxdCldhbnRlZEJ5PW11bHRpLXVzZXIudGFyZ2V0\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n  - path: /etc/minio.d/minio\n    content: TUlOSU9fVk9MVU1FUz0iL3Vzci9sb2NhbC9zaGFyZS9taW5pby8iCk1JTklPX09QVFM9Ii1DIC9ldGMvbWluaW8uZC8gLS1jZXJ0cy1kaXIgL2V0Yy9taW5pby5kL2NlcnRzIC0tYWRkcmVzcyAxMC4wLjMuMjo5MDAwIgpNSU5JT19BQ0NFU1NfS0VZPWFkbWluCk1JTklPX1NFQ1JFVF9LRVk9SGFzaGkxMjMh\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n  - path: /etc/systemd/system/vault.service\n    content: W1VuaXRdCkRlc2NyaXB0aW9uPVZhdWx0IEFnZW50ClJlcXVpcmVzPW5ldHdvcmsub25saW5lCgpbU2VydmljZV0KUmVzdGFydD1vbi1mYWlsdXJlClBlcm1pc3Npb25zU3RhcnRPbmx5PXRydWUKRXhlY1N0YXJ0UHJlPS9zYmluL3NldGNhcCAnY2FwX2lwY19sb2NrPStlcCcgL3Vzci9sb2NhbC9iaW4vdmF1bHQKRXhlY1N0YXJ0PS91c3IvbG9jYWwvYmluL3ZhdWx0IGFnZW50IC1jb25maWcgL2V0Yy92YXVsdC5kL3ZhdWx0LmNvbmYKRXhlY1JlbG9hZD0vYmluL2tpbGwgLUhVUCAkTUFJTlBJRApLaWxsU2lnbmFsPVNJR1RFUk0KVXNlcj1yb290Ckdyb3VwPXJvb3QKTGltaXRNRU1MT0NLPWluZmluaXR5CgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQ=\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n  - path: /etc/vault.d/roleid\n    content: cfa46d85-cb67-4f78-3239-0ff544f68a81\n    permissions: '0644'\n    owner: root:root\n  - path: /etc/vault.d/secretid\n    content: s.KrVK1VsPgj0VWT5zB9eGeoni\n    permissions: '0644'\n    owner: root:root\n  - path: /etc/vault.d/vault.conf\n    content: cGlkX2ZpbGUgPSAiLi9waWRmaWxlIgoKdmF1bHQgewogIGFkZHJlc3MgPSAiaHR0cDovL3ZhdWx0Lmh1bWJsZWxhYi5jb206ODIwMCIKfQoKYXV0b19hdXRoIHsKICBtZXRob2QgewogICAgdHlwZSAgID0gImFwcHJvbGUiCiAgICBjb25maWcgPSB7CiAgICAgIHJvbGVfaWRfZmlsZV9wYXRoID0gIi9ldGMvdmF1bHQuZC9yb2xlaWQiCiAgICAgIHNlY3JldF9pZF9maWxlX3BhdGggPSAiL2V0Yy92YXVsdC5kL3NlY3JldGlkIgogICAgICBzZWNyZXRfaWRfcmVzcG9uc2Vfd3JhcHBpbmdfcGF0aCA9ICJhdXRoL2FwcHJvbGUvcm9sZS9taW5pby9zZWNyZXQtaWQiCiAgICAgIHJlbW92ZV9zZWNyZXRfaWRfZmlsZV9hZnRlcl9yZWFkaW5nID0gImZhbHNlIgogICAgfQogIH0KICBzaW5rICJmaWxlIiB7CiAgICBjb25maWcgPSB7CiAgICAgIHBhdGggPSAiL2V0Yy92YXVsdC5kL3NpbmsiCiAgICB9CiAgfQp9Cgp0ZW1wbGF0ZSB7CiAgY29udGVudHMgICAgPSAie3sgd2l0aCBzZWNyZXQgXCJwa2kvaXNzdWUvaHVtYmxlbGFiXCIgXCJjb21tb25fbmFtZT1taW5pby5odW1ibGVsYWIuY29tXCIgfX17eyAuRGF0YS5jZXJ0aWZpY2F0ZSB9fXt7IGVuZCB9fSIKICBkZXN0aW5hdGlvbiA9ICIvZXRjL21pbmlvLmQvY2VydHMvcHVibGljLmNydCIKICBiYWNrdXAgICAgICA9IHRydWUKICBjb21tYW5kICAgICA9ICJzeXN0ZW1jdGwgcmVzdGFydCBtaW5pbyIKfQoKdGVtcGxhdGUgewogIGNvbnRlbnRzICAgID0gInt7IHdpdGggc2VjcmV0IFwicGtpL2lzc3VlL2h1bWJsZWxhYlwiIFwiY29tbW9uX25hbWU9bWluaW8uaHVtYmxlbGFiLmNvbVwiIH19e3sgLkRhdGEucHJpdmF0ZV9rZXkgfX17eyBlbmQgfX0iCiAgZGVzdGluYXRpb24gPSAiL2V0Yy9taW5pby5kL2NlcnRzL3ByaXZhdGUua2V5IgogIGJhY2t1cCAgICAgID0gdHJ1ZQogIGNvbW1hbmQgICAgID0gInN5c3RlbWN0bCByZXN0YXJ0IG1pbmlvIgp9Cgo=\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n\nruncmd:\n  - curl -O https://dl.minio.io/server/minio/release/linux-amd64/minio\n  - mv minio /usr/local/bin\n  - chmod +x /usr/local/bin/minio\n  - install -d -m 0755 -o root -g root /usr/local/share/minio\n  - systemctl daemon-reload\n  - systemctl restart minio\n  - curl -O https://releases.hashicorp.com/vault/1.4.0-rc1+ent/vault_1.4.0-rc1+ent_linux_amd64.zip\n  - unzip vault_1.4.0-rc1+ent_linux_amd64.zip\n  - mv vault -t /usr/local/bin\n  - chmod +x /usr/local/bin/vault\n  - systemctl restart vault",
            "template": "#cloud-config\nusers:\n  - name: grant\n    ssh-authorized-keys:\n     - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC8rqxon4hRyV5cLNZczuJTe8dsZ33hpWHDU993r4iiY3t9bXqfmIHlIZ7dTL93nlvsgzVdOYMVGMOHMg/a1ZK0VRoKTS5BBhBGJejjDUfWRAtedZbM9JE5HHpks+L+nf8cOM14Os+Q3BV+z4MjYfIK5ZbV0IvUaY0kscQcE8cZoOTC2hHu/MPDneKJxG+HRQJfvqvnWz69/EXyi9iqtmOn0Xy9905qtbPNlDs1c4qF+zZ1qQCkMYP0Z4AVvLaPEJZlPmDnGqz5s1vVb130aXe1A11eq4RwgvZRxXW8i88pKqCGPuLRh7anqvSI15SLpA2KWvu7wD5CvhTisc/6TfVf\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    groups: sudo\n    shell: /bin/bash\n\npackages:\n  - jq\n  - unzip\n\nwrite_files:\n  - path: /etc/environment\n    content: |\n      MINIO_ACCESS_KEY=admin\n      MINIO_SECRET_KEY=Hashi123!\n    append: true\n  - path: /etc/systemd/system/minio.service\n    content: ${minio_service}\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n  - path: /etc/minio.d/minio\n    content: ${minio_conf}\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n  - path: /etc/systemd/system/vault.service\n    content: ${vault_service}\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n  - path: /etc/vault.d/roleid\n    content: ${vault_roleid}\n    permissions: '0644'\n    owner: root:root\n  - path: /etc/vault.d/secretid\n    content: ${wrapping_token}\n    permissions: '0644'\n    owner: root:root\n  - path: /etc/vault.d/vault.conf\n    content: ${vault_conf}\n    permissions: '0644'\n    owner: root:root\n    encoding: b64\n\nruncmd:\n  - curl -O https://dl.minio.io/server/minio/release/linux-amd64/minio\n  - mv minio /usr/local/bin\n  - chmod +x /usr/local/bin/minio\n  - install -d -m 0755 -o root -g root /usr/local/share/minio\n  - systemctl daemon-reload\n  - systemctl restart minio\n  - curl -O https://releases.hashicorp.com/vault/1.4.0-rc1+ent/vault_1.4.0-rc1+ent_linux_amd64.zip\n  - unzip vault_1.4.0-rc1+ent_linux_amd64.zip\n  - mv vault -t /usr/local/bin\n  - chmod +x /usr/local/bin/vault\n  - systemctl restart vault",
            "vars": {
              "certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURoVENDQW0yZ0F3SUJBZ0lVSW1wOXJ0ZVFkdW8zT2hlSCtKdy9rSGFaTHhBd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1FERWNNQm9HQTFVRUF4TVRkbUYxYkhRdWFIVnRZbXhsYkdGaUxtTnZiVEVnTUI0R0NTcUdTSWIzRFFFSgpBUllSWVdSdGFXNUFaWGhoYlhCc1pTNWpiMjB3SGhjTk1qQXdOREF5TURFeU16RXpXaGNOTWpBd05UQTBNREV5Ck16UXlXakFlTVJ3d0dnWURWUVFERXhOdGFXNXBieTVvZFcxaWJHVnNZV0l1WTI5dE1JSUJJakFOQmdrcWhraUcKOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXY4NFNnbVVRcFhyNHFYOU5oYWlrbHhkWUJkR0JUc3dLZ3JqMgpOcGhlZWNsWE9IWStaNS9kQnMyZlpBeUtsSUhNZTZCUVY2RS9WY2lsdzJuekdGV1M4UXNkNFdSL3Z0aWU2VzNZCnQxUS9jcHF1b1EzQ3ZGR1RpWGU3Z0pEbnMyRXRXeVBSUlUxcGZFSGM2QmxUc0J6aHNqa0FqQ1BYSEpTbkhkUnkKUVIxY2tZd1EvdFpHdElEYzBWZ0xRTVlZRjFyQ25jUWNPVlFGY1k3Qm9sZzQ0dHJpNlZkQ25EeGlZVlpVKzAxTwozTmpGSlB3NVd2aW90M0NwNUl5V21uRnAwTG9BSWJuNGtBdzlUOG13cjBZUnBhYjZrMmFhalpwQUdlblJZMXQyCnFHRE1hQVlwWkZuRkJWd01yRlExWnNlMGUxWmVUK2RPUE1nVWVUbkFldi94TFJ3ZVVRSURBUUFCbzRHWU1JR1YKTUE0R0ExVWREd0VCL3dRRUF3SURxREFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJdwpIUVlEVlIwT0JCWUVGQzVoSnVJSFdZK0hHRDh6M3pJTFpnZTVPVTdHTUI4R0ExVWRJd1FZTUJhQUZGUlByM1diClpGbmZVWnhGanhadmtqajBYRW5VTUNRR0ExVWRFUVFkTUJ1Q0UyMXBibWx2TG1oMWJXSnNaV3hoWWk1amIyMkgKQkFvQUF3SXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBSXp3Z0gzT3ZOL0xVYVNsMDVFT0NaTHFPY0lydXQvcAowbEZmTXNHaDY3NmdqekFrZ0xSL2pHZGpGS0ZWbW5yMEszNkVPT2YybkJOdlhFbS9PaVlYOEpzV1JHdnNDRTh3Clo0cU9rZlVmOVhSYVk2dWNOY3A3dTNLVzQwWXlmTlVrdFJvZFF2ODdOcUE5aEE0Zjd4RmVyVi9NTm1lSWQwQUsKaUNOUEdZSWd5VDhMVGJ6MVBuWFJ2KzBBSGZmY2UrellwZlNjaVRuQStuNmdQNGd0dS82REpzdkt6b3pKVTNidwowVm5YNTZrSUpIZFkxaCtDeWNYbTFGR2V3UTJMdEh1Qi95eE5JQkM1Z3p4Qml2VGRLaTk1dEpFeWx2Wmc4UEowCi9DdEVHOTFNSERJYk13TnNRS05ERkhkbVBNa21BZ2dGSU1TNllBS25PQ1VDM0U5ZU1nbm5Fd0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0=",
              "minio_conf": "TUlOSU9fVk9MVU1FUz0iL3Vzci9sb2NhbC9zaGFyZS9taW5pby8iCk1JTklPX09QVFM9Ii1DIC9ldGMvbWluaW8uZC8gLS1jZXJ0cy1kaXIgL2V0Yy9taW5pby5kL2NlcnRzIC0tYWRkcmVzcyAxMC4wLjMuMjo5MDAwIgpNSU5JT19BQ0NFU1NfS0VZPWFkbWluCk1JTklPX1NFQ1JFVF9LRVk9SGFzaGkxMjMh",
              "minio_service": "W1VuaXRdCkRlc2NyaXB0aW9uPU1pbklPCkRvY3VtZW50YXRpb249aHR0cHM6Ly9kb2NzLm1pbi5pbwpXYW50cz1uZXR3b3JrLW9ubGluZS50YXJnZXQKQWZ0ZXI9bmV0d29yay1vbmxpbmUudGFyZ2V0CkFzc2VydEZpbGVJc0V4ZWN1dGFibGU9L3Vzci9sb2NhbC9iaW4vbWluaW8KCltTZXJ2aWNlXQpXb3JraW5nRGlyZWN0b3J5PS91c3IvbG9jYWwvCgpVc2VyPXJvb3QKR3JvdXA9cm9vdAoKRW52aXJvbm1lbnRGaWxlPS9ldGMvbWluaW8uZC9taW5pbwpFeGVjU3RhcnRQcmU9L2Jpbi9iYXNoIC1jICJpZiBbIC16IFwiJHtNSU5JT19WT0xVTUVTfVwiIF07IHRoZW4gZWNobyBcIlZhcmlhYmxlIE1JTklPX1ZPTFVNRVMgbm90IHNldCBpbiAvZXRjL21pbmlvLmQvbWluaW9cIjsgZXhpdCAxOyBmaSIKCkV4ZWNTdGFydD0vdXNyL2xvY2FsL2Jpbi9taW5pbyBzZXJ2ZXIgJE1JTklPX09QVFMgJE1JTklPX1ZPTFVNRVMKCiMgTGV0IHN5c3RlbWQgcmVzdGFydCB0aGlzIHNlcnZpY2UgYWx3YXlzClJlc3RhcnQ9YWx3YXlzCgojIFNwZWNpZmllcyB0aGUgbWF4aW11bSBmaWxlIGRlc2NyaXB0b3IgbnVtYmVyIHRoYXQgY2FuIGJlIG9wZW5lZCBieSB0aGlzIHByb2Nlc3MKTGltaXROT0ZJTEU9NjU1MzYKCiMgRGlzYWJsZSB0aW1lb3V0IGxvZ2ljIGFuZCB3YWl0IHVudGlsIHByb2Nlc3MgaXMgc3RvcHBlZApUaW1lb3V0U3RvcFNlYz1pbmZpbml0eQpTZW5kU0lHS0lMTD1ubwoKW0luc3RhbGxdCldhbnRlZEJ5PW11bHRpLXVzZXIudGFyZ2V0",
              "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBdjg0U2dtVVFwWHI0cVg5TmhhaWtseGRZQmRHQlRzd0tncmoyTnBoZWVjbFhPSFkrClo1L2RCczJmWkF5S2xJSE1lNkJRVjZFL1ZjaWx3Mm56R0ZXUzhRc2Q0V1IvdnRpZTZXM1l0MVEvY3BxdW9RM0MKdkZHVGlYZTdnSkRuczJFdFd5UFJSVTFwZkVIYzZCbFRzQnpoc2prQWpDUFhISlNuSGRSeVFSMWNrWXdRL3RaRwp0SURjMFZnTFFNWVlGMXJDbmNRY09WUUZjWTdCb2xnNDR0cmk2VmRDbkR4aVlWWlUrMDFPM05qRkpQdzVXdmlvCnQzQ3A1SXlXbW5GcDBMb0FJYm40a0F3OVQ4bXdyMFlScGFiNmsyYWFqWnBBR2VuUlkxdDJxR0RNYUFZcFpGbkYKQlZ3TXJGUTFac2UwZTFaZVQrZE9QTWdVZVRuQWV2L3hMUndlVVFJREFRQUJBb0lCQVFDUmUwL0V3YjJmbHFkMwpnTXlmSGF4QndmNE00N3p0dEl3Z1hRUzdvbFMra1QzcjRKd3k0eW0xMkU4V2h3Q3g1Y1hnMjFjMU1HUW12L3NqClBvQ1pxNGE1K0JHZy9TWjc3amlTbTdQdVVpT1IzTXVwOHhNSzNlRkhPcDdveElCS0tlSktKOSs2Ymg0ZGxxTmwKRkpqS2t3MkpyZnpCVHdvQmJxdFhUK1dkaUJUSGU2SkVxRnNvazlXbExyVnZSUGxHSWxlWVVtNEhyU3dETzlCZwpXRVhheFF2M1JnS2REVTdKZ2xGVGpPakZRU05OMzRmeUNPQVR1QytBck5CRE9yZjdOQU4zUFEwTE82cVV4eFlNCkNMUHRqblVqQ3FGdExSeklpQmNZYW14SXd3RHM1UlNPbmMzSjNlWU1hN2NIMERiSG81aTlUeUR4K3BKUysxWlAKaUhvZzN2V1ZBb0dCQU5ERFBWcWpieU94NW9UOWd0OGpvNWRER0svUE5zS2JyM1JLRHNWZFZjejZQSFlxUDBUYwptNndhVmdieis2azkyY3Z0RDhjREF1eUlRdjk3a2s1NjJjWVR5MGxIenFjeno1MXEzdjJKeFZidjBtaVlyNUc1Cm8zbjNzSXlzZmUxc2dWSFFSOHVWOTNGTEo2UG1FU0V2Nzl2ZDZEVlJMMDZ3b0Q2UmFrVnV3aE4zQW9HQkFPczAKaXpnUXJ0cFJ5Rm1PVWtOQy93U2MxMnhNK0RWb1NYSHdsQjFTTTIzWHB0NC9sMnk5ejVjTGkzR25pcnQ0TmNiZgpBNnFGRUNIMHBJTnVtU3laTzM4TmJoNkx2M2Jva1A4QnI2QmNwK0R5WTk3YmxNdVdxMkFsclVUaW1TNkNSem02Clo1M0hFVmUyWXdMMWlLNVA0bFZqZi82bEE0TzNoaW1rZjdVK1UvNTNBb0dCQUtranBsQUxYbjZESW92WmdmRWMKUk96RzlmZHJZYWltenE3ZldieGFkS3ZRaXJBS1pweDZTTDVWMENGdUNCWUZBTE1TYk5nRy9wVjVpUjdKbGE1MApKb0V2aEdMcEJPdS9OSlVNQTROVDNra2pvVXdSZVI0T1UvNzd5VlVRWkM2NjNNUFdoblRTR2xyMlV6V2RyMzgrCkFZNFg2bzFZSzRZTDRLa1ExQk5STzNqZEFvR0FHSk9rK0hiRnpvbzlKUjU1K2cxR0dIVkxEVVg5cVpiOEZhdk4KemtLSW5UR3JmZzJuQlBYUWV6ZjVtaWFubUc4M0wxQ2VVWE1WL0haVHVtZ1VHVlRwb3AwRXBLeDFsVGMzNzIxOQpySVFDQnI5Tk1EeEJrQVJ1WTkyTC9XYXdHdXdDQlVZMURZZC9pR3JHYmNpNlAzeVphZEs3elIvdy9oSnZNbXE5CjdYSlYxSUVDZ1lBSUtWUWFxVHJyRjVJNEtzNXlIL1Nxd3RYNm95WWlHa1dvK1Y3TWFRMmJuZkJqRW9QNXdUN2oKaUp5b1BYZjlMR0J4aTdWQlNCSWFzdWQ1SGpWQnEvVjkwc3VUK044eUs0WFF2SHluRng1R0RvOS9Ua0l5MTAyZgpYZS8reGxDVnduU3d5QjVISWQrM0ZyR3l3aUFvdlNpQlJmUVlQQ2ZlRjU2REwwYkcrUm9hbUE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQ==",
              "ssh_public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC8rqxon4hRyV5cLNZczuJTe8dsZ33hpWHDU993r4iiY3t9bXqfmIHlIZ7dTL93nlvsgzVdOYMVGMOHMg/a1ZK0VRoKTS5BBhBGJejjDUfWRAtedZbM9JE5HHpks+L+nf8cOM14Os+Q3BV+z4MjYfIK5ZbV0IvUaY0kscQcE8cZoOTC2hHu/MPDneKJxG+HRQJfvqvnWz69/EXyi9iqtmOn0Xy9905qtbPNlDs1c4qF+zZ1qQCkMYP0Z4AVvLaPEJZlPmDnGqz5s1vVb130aXe1A11eq4RwgvZRxXW8i88pKqCGPuLRh7anqvSI15SLpA2KWvu7wD5CvhTisc/6TfVf grant@grantorchard.com\n",
              "username": "grant",
              "vault_conf": "cGlkX2ZpbGUgPSAiLi9waWRmaWxlIgoKdmF1bHQgewogIGFkZHJlc3MgPSAiaHR0cDovL3ZhdWx0Lmh1bWJsZWxhYi5jb206ODIwMCIKfQoKYXV0b19hdXRoIHsKICBtZXRob2QgewogICAgdHlwZSAgID0gImFwcHJvbGUiCiAgICBjb25maWcgPSB7CiAgICAgIHJvbGVfaWRfZmlsZV9wYXRoID0gIi9ldGMvdmF1bHQuZC9yb2xlaWQiCiAgICAgIHNlY3JldF9pZF9maWxlX3BhdGggPSAiL2V0Yy92YXVsdC5kL3NlY3JldGlkIgogICAgICBzZWNyZXRfaWRfcmVzcG9uc2Vfd3JhcHBpbmdfcGF0aCA9ICJhdXRoL2FwcHJvbGUvcm9sZS9taW5pby9zZWNyZXQtaWQiCiAgICAgIHJlbW92ZV9zZWNyZXRfaWRfZmlsZV9hZnRlcl9yZWFkaW5nID0gImZhbHNlIgogICAgfQogIH0KICBzaW5rICJmaWxlIiB7CiAgICBjb25maWcgPSB7CiAgICAgIHBhdGggPSAiL2V0Yy92YXVsdC5kL3NpbmsiCiAgICB9CiAgfQp9Cgp0ZW1wbGF0ZSB7CiAgY29udGVudHMgICAgPSAie3sgd2l0aCBzZWNyZXQgXCJwa2kvaXNzdWUvaHVtYmxlbGFiXCIgXCJjb21tb25fbmFtZT1taW5pby5odW1ibGVsYWIuY29tXCIgfX17eyAuRGF0YS5jZXJ0aWZpY2F0ZSB9fXt7IGVuZCB9fSIKICBkZXN0aW5hdGlvbiA9ICIvZXRjL21pbmlvLmQvY2VydHMvcHVibGljLmNydCIKICBiYWNrdXAgICAgICA9IHRydWUKICBjb21tYW5kICAgICA9ICJzeXN0ZW1jdGwgcmVzdGFydCBtaW5pbyIKfQoKdGVtcGxhdGUgewogIGNvbnRlbnRzICAgID0gInt7IHdpdGggc2VjcmV0IFwicGtpL2lzc3VlL2h1bWJsZWxhYlwiIFwiY29tbW9uX25hbWU9bWluaW8uaHVtYmxlbGFiLmNvbVwiIH19e3sgLkRhdGEucHJpdmF0ZV9rZXkgfX17eyBlbmQgfX0iCiAgZGVzdGluYXRpb24gPSAiL2V0Yy9taW5pby5kL2NlcnRzL3ByaXZhdGUua2V5IgogIGJhY2t1cCAgICAgID0gdHJ1ZQogIGNvbW1hbmQgICAgID0gInN5c3RlbWN0bCByZXN0YXJ0IG1pbmlvIgp9Cgo=",
              "vault_roleid": "cfa46d85-cb67-4f78-3239-0ff544f68a81",
              "vault_service": "W1VuaXRdCkRlc2NyaXB0aW9uPVZhdWx0IEFnZW50ClJlcXVpcmVzPW5ldHdvcmsub25saW5lCgpbU2VydmljZV0KUmVzdGFydD1vbi1mYWlsdXJlClBlcm1pc3Npb25zU3RhcnRPbmx5PXRydWUKRXhlY1N0YXJ0UHJlPS9zYmluL3NldGNhcCAnY2FwX2lwY19sb2NrPStlcCcgL3Vzci9sb2NhbC9iaW4vdmF1bHQKRXhlY1N0YXJ0PS91c3IvbG9jYWwvYmluL3ZhdWx0IGFnZW50IC1jb25maWcgL2V0Yy92YXVsdC5kL3ZhdWx0LmNvbmYKRXhlY1JlbG9hZD0vYmluL2tpbGwgLUhVUCAkTUFJTlBJRApLaWxsU2lnbmFsPVNJR1RFUk0KVXNlcj1yb290Ckdyb3VwPXJvb3QKTGltaXRNRU1MT0NLPWluZmluaXR5CgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQ=",
              "wrapping_token": "s.KrVK1VsPgj0VWT5zB9eGeoni"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "vault_conf",
      "provider": "provider.template",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "f3f1b36371bb272806690b653aaf6f17e2ba9fd217d171242006212de746e606",
            "rendered": "pid_file = \"./pidfile\"\n\nvault {\n  address = \"http://vault.humblelab.com:8200\"\n}\n\nauto_auth {\n  method {\n    type   = \"approle\"\n    config = {\n      role_id_file_path = \"/etc/vault.d/roleid\"\n      secret_id_file_path = \"/etc/vault.d/secretid\"\n      secret_id_response_wrapping_path = \"auth/approle/role/minio/secret-id\"\n      remove_secret_id_file_after_reading = \"false\"\n    }\n  }\n  sink \"file\" {\n    config = {\n      path = \"/etc/vault.d/sink\"\n    }\n  }\n}\n\ntemplate {\n  contents    = \"{{ with secret \\\"pki/issue/humblelab\\\" \\\"common_name=minio.humblelab.com\\\" }}{{ .Data.certificate }}{{ end }}\"\n  destination = \"/etc/minio.d/certs/public.crt\"\n  backup      = true\n  command     = \"systemctl restart minio\"\n}\n\ntemplate {\n  contents    = \"{{ with secret \\\"pki/issue/humblelab\\\" \\\"common_name=minio.humblelab.com\\\" }}{{ .Data.private_key }}{{ end }}\"\n  destination = \"/etc/minio.d/certs/private.key\"\n  backup      = true\n  command     = \"systemctl restart minio\"\n}\n\n",
            "template": "pid_file = \"./pidfile\"\n\nvault {\n  address = \"${vault_addr}\"\n}\n\nauto_auth {\n  method {\n    type   = \"approle\"\n    config = {\n      role_id_file_path = \"/etc/vault.d/roleid\"\n      secret_id_file_path = \"/etc/vault.d/secretid\"\n      secret_id_response_wrapping_path = \"${response_wrapping_path}\"\n      remove_secret_id_file_after_reading = \"false\"\n    }\n  }\n  sink \"file\" {\n    config = {\n      path = \"/etc/vault.d/sink\"\n    }\n  }\n}\n\ntemplate {\n  contents    = \"{{ with secret \\\"pki/issue/humblelab\\\" \\\"common_name=${common_name}\\\" }}{{ .Data.certificate }}{{ end }}\"\n  destination = \"${cert_file_location}\"\n  backup      = true\n  command     = \"${template_command}\"\n}\n\ntemplate {\n  contents    = \"{{ with secret \\\"pki/issue/humblelab\\\" \\\"common_name=${common_name}\\\" }}{{ .Data.private_key }}{{ end }}\"\n  destination = \"${key_file_location}\"\n  backup      = true\n  command     = \"${template_command}\"\n}\n\n",
            "vars": {
              "cert_file_location": "/etc/minio.d/certs/public.crt",
              "common_name": "minio.humblelab.com",
              "key_file_location": "/etc/minio.d/certs/private.key",
              "private_key": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAv84SgmUQpXr4qX9NhaiklxdYBdGBTswKgrj2NpheeclXOHY+\nZ5/dBs2fZAyKlIHMe6BQV6E/Vcilw2nzGFWS8Qsd4WR/vtie6W3Yt1Q/cpquoQ3C\nvFGTiXe7gJDns2EtWyPRRU1pfEHc6BlTsBzhsjkAjCPXHJSnHdRyQR1ckYwQ/tZG\ntIDc0VgLQMYYF1rCncQcOVQFcY7Bolg44tri6VdCnDxiYVZU+01O3NjFJPw5Wvio\nt3Cp5IyWmnFp0LoAIbn4kAw9T8mwr0YRpab6k2aajZpAGenRY1t2qGDMaAYpZFnF\nBVwMrFQ1Zse0e1ZeT+dOPMgUeTnAev/xLRweUQIDAQABAoIBAQCRe0/Ewb2flqd3\ngMyfHaxBwf4M47zttIwgXQS7olS+kT3r4Jwy4ym12E8WhwCx5cXg21c1MGQmv/sj\nPoCZq4a5+BGg/SZ77jiSm7PuUiOR3Mup8xMK3eFHOp7oxIBKKeJKJ9+6bh4dlqNl\nFJjKkw2JrfzBTwoBbqtXT+WdiBTHe6JEqFsok9WlLrVvRPlGIleYUm4HrSwDO9Bg\nWEXaxQv3RgKdDU7JglFTjOjFQSNN34fyCOATuC+ArNBDOrf7NAN3PQ0LO6qUxxYM\nCLPtjnUjCqFtLRzIiBcYamxIwwDs5RSOnc3J3eYMa7cH0DbHo5i9TyDx+pJS+1ZP\niHog3vWVAoGBANDDPVqjbyOx5oT9gt8jo5dDGK/PNsKbr3RKDsVdVcz6PHYqP0Tc\nm6waVgbz+6k92cvtD8cDAuyIQv97kk562cYTy0lHzqczz51q3v2JxVbv0miYr5G5\no3n3sIysfe1sgVHQR8uV93FLJ6PmESEv79vd6DVRL06woD6RakVuwhN3AoGBAOs0\nizgQrtpRyFmOUkNC/wSc12xM+DVoSXHwlB1SM23Xpt4/l2y9z5cLi3Gnirt4Ncbf\nA6qFECH0pINumSyZO38Nbh6Lv3bokP8Br6Bcp+DyY97blMuWq2AlrUTimS6CRzm6\nZ53HEVe2YwL1iK5P4lVjf/6lA4O3himkf7U+U/53AoGBAKkjplALXn6DIovZgfEc\nROzG9fdrYaimzq7fWbxadKvQirAKZpx6SL5V0CFuCBYFALMSbNgG/pV5iR7Jla50\nJoEvhGLpBOu/NJUMA4NT3kkjoUwReR4OU/77yVUQZC663MPWhnTSGlr2UzWdr38+\nAY4X6o1YK4YL4KkQ1BNRO3jdAoGAGJOk+HbFzoo9JR55+g1GGHVLDUX9qZb8FavN\nzkKInTGrfg2nBPXQezf5mianmG83L1CeUXMV/HZTumgUGVTpop0EpKx1lTc37219\nrIQCBr9NMDxBkARuY92L/WawGuwCBUY1DYd/iGrGbci6P3yZadK7zR/w/hJvMmq9\n7XJV1IECgYAIKVQaqTrrF5I4Ks5yH/SqwtX6oyYiGkWo+V7MaQ2bnfBjEoP5wT7j\niJyoPXf9LGBxi7VBSBIasud5HjVBq/V90suT+N8yK4XQvHynFx5GDo9/TkIy102f\nXe/+xlCVwnSwyB5HId+3FrGywiAovSiBRfQYPCfeF56DL0bG+RoamA==\n-----END RSA PRIVATE KEY-----",
              "public_cert": "-----BEGIN CERTIFICATE-----\nMIIDhTCCAm2gAwIBAgIUImp9rteQduo3OheH+Jw/kHaZLxAwDQYJKoZIhvcNAQEL\nBQAwQDEcMBoGA1UEAxMTdmF1bHQuaHVtYmxlbGFiLmNvbTEgMB4GCSqGSIb3DQEJ\nARYRYWRtaW5AZXhhbXBsZS5jb20wHhcNMjAwNDAyMDEyMzEzWhcNMjAwNTA0MDEy\nMzQyWjAeMRwwGgYDVQQDExNtaW5pby5odW1ibGVsYWIuY29tMIIBIjANBgkqhkiG\n9w0BAQEFAAOCAQ8AMIIBCgKCAQEAv84SgmUQpXr4qX9NhaiklxdYBdGBTswKgrj2\nNpheeclXOHY+Z5/dBs2fZAyKlIHMe6BQV6E/Vcilw2nzGFWS8Qsd4WR/vtie6W3Y\nt1Q/cpquoQ3CvFGTiXe7gJDns2EtWyPRRU1pfEHc6BlTsBzhsjkAjCPXHJSnHdRy\nQR1ckYwQ/tZGtIDc0VgLQMYYF1rCncQcOVQFcY7Bolg44tri6VdCnDxiYVZU+01O\n3NjFJPw5Wviot3Cp5IyWmnFp0LoAIbn4kAw9T8mwr0YRpab6k2aajZpAGenRY1t2\nqGDMaAYpZFnFBVwMrFQ1Zse0e1ZeT+dOPMgUeTnAev/xLRweUQIDAQABo4GYMIGV\nMA4GA1UdDwEB/wQEAwIDqDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIw\nHQYDVR0OBBYEFC5hJuIHWY+HGD8z3zILZge5OU7GMB8GA1UdIwQYMBaAFFRPr3Wb\nZFnfUZxFjxZvkjj0XEnUMCQGA1UdEQQdMBuCE21pbmlvLmh1bWJsZWxhYi5jb22H\nBAoAAwIwDQYJKoZIhvcNAQELBQADggEBAIzwgH3OvN/LUaSl05EOCZLqOcIrut/p\n0lFfMsGh676gjzAkgLR/jGdjFKFVmnr0K36EOOf2nBNvXEm/OiYX8JsWRGvsCE8w\nZ4qOkfUf9XRaY6ucNcp7u3KW40YyfNUktRodQv87NqA9hA4f7xFerV/MNmeId0AK\niCNPGYIgyT8LTbz1PnXRv+0AHffce+zYpfSciTnA+n6gP4gtu/6DJsvKzozJU3bw\n0VnX56kIJHdY1h+CycXm1FGewQ2LtHuB/yxNIBC5gzxBivTdKi95tJEylvZg8PJ0\n/CtEG91MHDIbMwNsQKNDFHdmPMkmAggFIMS6YAKnOCUC3E9eMgnnEwE=\n-----END CERTIFICATE-----",
              "response_wrapping_path": "auth/approle/role/minio/secret-id",
              "template_command": "systemctl restart minio",
              "vault_addr": "http://vault.humblelab.com:8200",
              "vault_secretid_path": "auth/approle/role/minio/secret-id"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "vsphere_compute_cluster",
      "name": "this",
      "provider": "provider.vsphere",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "datacenter_id": "datacenter-21",
            "id": "domain-c607",
            "name": "Tenant",
            "resource_pool_id": "resgroup-608"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "vsphere_datacenter",
      "name": "this",
      "provider": "provider.vsphere",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "datacenter-21",
            "name": "Core"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "vsphere_datastore",
      "name": "this",
      "provider": "provider.vsphere",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "datacenter_id": "datacenter-21",
            "id": "datastore-35",
            "name": "hl-core-ds01"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "vsphere_network",
      "name": "this",
      "provider": "provider.vsphere",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "datacenter_id": "datacenter-21",
            "id": "network-o737",
            "name": "LS1",
            "type": "OpaqueNetwork"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "vsphere_virtual_machine",
      "name": "template",
      "provider": "provider.vsphere",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alternate_guest_name": "",
            "datacenter_id": "datacenter-21",
            "disks": [
              {
                "eagerly_scrub": false,
                "size": 32,
                "thin_provisioned": true
              }
            ],
            "firmware": "bios",
            "guest_id": "ubuntu64Guest",
            "guest_ip_addresses": [],
            "id": "4200fdb4-95a9-c7dc-8c70-3cd124597c1c",
            "name": "ubuntu-18.04-packer",
            "network_interface_types": [
              "vmxnet3"
            ],
            "scsi_bus_sharing": "noSharing",
            "scsi_controller_scan_count": 1,
            "scsi_type": "pvscsi"
          }
        }
      ]
    },
    {
      "module": "module.infoblox",
      "mode": "managed",
      "type": "infoblox_a_record",
      "name": "this",
      "provider": "provider.infoblox",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cidr": "10.0.3.0/24",
            "dns_view": "default",
            "id": "record:a/ZG5zLmJpbmRfYSQuX2RlZmF1bHQuY29tLmh1bWJsZWxhYixtaW5pbywxMC4wLjMuMg:minio.humblelab.com/default",
            "ip_addr": "10.0.3.2",
            "network_view_name": "default",
            "tenant_id": "not_applicable",
            "vm_id": null,
            "vm_name": "minio",
            "zone": "humblelab.com"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.infoblox.infoblox_ip_allocation.this"
          ]
        }
      ]
    },
    {
      "module": "module.infoblox",
      "mode": "managed",
      "type": "infoblox_ip_allocation",
      "name": "this",
      "provider": "provider.infoblox",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cidr": "10.0.3.0/24",
            "dns_view": null,
            "enable_dns": false,
            "id": "fixedaddress/ZG5zLmZpeGVkX2FkZHJlc3MkMTAuMC4zLjIuMC4u:10.0.3.2/default",
            "ip_addr": "10.0.3.2",
            "mac_addr": null,
            "network_view_name": "default",
            "tenant_id": "not_applicable",
            "vm_id": null,
            "vm_name": "minio",
            "zone": null
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.infoblox",
      "mode": "managed",
      "type": "infoblox_ip_association",
      "name": "this",
      "provider": "provider.infoblox",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cidr": "10.0.3.0/24",
            "dns_view": null,
            "id": "fixedaddress/ZG5zLmZpeGVkX2FkZHJlc3MkMTAuMC4zLjIuMC4u:10.0.3.2/default",
            "ip_addr": "10.0.3.2",
            "mac_addr": "00:50:56:80:5f:f6",
            "network_view_name": "default",
            "tenant_id": "not_applicable",
            "vm_id": "4200298e-2ab9-6bc4-3708-deb644dbba4f",
            "vm_name": "minio",
            "zone": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.infoblox.infoblox_ip_allocation.this",
            "vault_approle_auth_backend_role.this",
            "vault_approle_auth_backend_role_secret_id.this",
            "vault_pki_secret_backend_cert.this",
            "vsphere_virtual_machine.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vault_approle_auth_backend_role",
      "name": "this",
      "provider": "provider.vault",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend": "approle",
            "bind_secret_id": true,
            "bound_cidr_list": null,
            "id": "auth/approle/role/minio",
            "period": 0,
            "policies": [],
            "role_id": "cfa46d85-cb67-4f78-3239-0ff544f68a81",
            "role_name": "minio",
            "secret_id_bound_cidrs": [],
            "secret_id_num_uses": 0,
            "secret_id_ttl": 300,
            "token_bound_cidrs": [],
            "token_explicit_max_ttl": 0,
            "token_max_ttl": 0,
            "token_no_default_policy": false,
            "token_num_uses": 0,
            "token_period": 0,
            "token_policies": [
              "cert_requests"
            ],
            "token_ttl": 0,
            "token_type": "default"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vault_approle_auth_backend_role_secret_id",
      "name": "this",
      "provider": "provider.vault",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "accessor": null,
            "backend": "approle",
            "cidr_list": null,
            "id": "backend=approle::role=minio::accessor=wrapped-ui9qC1KvXwR7NbPlmrVMieV4",
            "metadata": null,
            "role_name": "minio",
            "secret_id": null,
            "wrapping_accessor": "ui9qC1KvXwR7NbPlmrVMieV4",
            "wrapping_token": "s.KrVK1VsPgj0VWT5zB9eGeoni",
            "wrapping_ttl": "2h"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "vault_approle_auth_backend_role.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vault_pki_secret_backend_cert",
      "name": "this",
      "provider": "provider.vault",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alt_names": null,
            "auto_renew": true,
            "backend": "pki",
            "ca_chain": "-----BEGIN CERTIFICATE-----\nMIIFtDCCBJygAwIBAgITFgAAACp3tnBrUQOsQAABAAAAKjANBgkqhkiG9w0BAQsF\nADBSMRMwEQYKCZImiZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJaHVtYmxl\nbGFiMSAwHgYDVQQDExdodW1ibGVsYWItSFVNQkxFREMwMS1DQTAeFw0yMDAzMjUw\nMTI1MDdaFw0yMjAzMjUwMTM1MDdaMEAxHDAaBgNVBAMTE3ZhdWx0Lmh1bWJsZWxh\nYi5jb20xIDAeBgkqhkiG9w0BCQEWEWFkbWluQGV4YW1wbGUuY29tMIIBIjANBgkq\nhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAp2xbkoodOVN+fOxxZPSNRVuaUtHq9LZk\nuHRvhBSf9HNOgxuSwArphu4YQAFMEBkozLEwZi7gfikU0nLtuVw8kfZplvjFKqEN\nKV1LxVwhHwZ7O5gC0VRTiI9R/+tCAcZH54t9VT97VpZ1CaVHj3TCYpie3LXQ/Pp0\nXzqOraTrIXy4STxzTRZokdNdII9sfL5sAzNHUooeOjTRPvKbxEgpF2CVzgoof5CC\nyuSGBgSkV762LUTpru7jtwWjJm1OIYX0/MYZxJ6Vp/Cr8ZHRpoKqtw0n/YDNj0vS\nyV5D70lBCEchJ2CCMgNOOJtiPmlHP2kOfd7BEBx8SSq0p8X00lFPAQIDAQABo4IC\nkzCCAo8wYwYDVR0RBFwwWoITdmF1bHQuaHVtYmxlbGFiLmNvbYIVdmF1bHQtMC5o\ndW1ibGVsYWIuY29tghV2YXVsdC0xLmh1bWJsZWxhYi5jb22CFXZhdWx0LTIuaHVt\nYmxlbGFiLmNvbTAdBgNVHQ4EFgQUVE+vdZtkWd9RnEWPFm+SOPRcSdQwHwYDVR0j\nBBgwFoAUj0bjmbCkJ+iDsUNOW77hXZYZbcowgd0GA1UdHwSB1TCB0jCBz6CBzKCB\nyYaBxmxkYXA6Ly8vQ049aHVtYmxlbGFiLUhVTUJMRURDMDEtQ0EoMSksQ049aHVt\nYmxlZGMwMSxDTj1DRFAsQ049UHVibGljJTIwS2V5JTIwU2VydmljZXMsQ049U2Vy\ndmljZXMsQ049Q29uZmlndXJhdGlvbixEQz1odW1ibGVsYWIsREM9Y29tP2NlcnRp\nZmljYXRlUmV2b2NhdGlvbkxpc3Q/YmFzZT9vYmplY3RDbGFzcz1jUkxEaXN0cmli\ndXRpb25Qb2ludDCBywYIKwYBBQUHAQEEgb4wgbswgbgGCCsGAQUFBzAChoGrbGRh\ncDovLy9DTj1odW1ibGVsYWItSFVNQkxFREMwMS1DQSxDTj1BSUEsQ049UHVibGlj\nJTIwS2V5JTIwU2VydmljZXMsQ049U2VydmljZXMsQ049Q29uZmlndXJhdGlvbixE\nQz1odW1ibGVsYWIsREM9Y29tP2NBQ2VydGlmaWNhdGU/YmFzZT9vYmplY3RDbGFz\ncz1jZXJ0aWZpY2F0aW9uQXV0aG9yaXR5MBkGCSsGAQQBgjcUAgQMHgoAUwB1AGIA\nQwBBMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgGGMA0GCSqGSIb3DQEB\nCwUAA4IBAQBOqiYBWHJ5NnD5Zk7s8XCSe6LiHYr7ekPbGkg7hR+FJjvShk/43iKS\n5xGtJeLNj7IzrP6GJPg5ts7G03iEnWaUE/Lsu54p/I9cJS/MS0BBbV7QvpRWkIvQ\nsSm2EYqdttzXW2bynhaLL2atzQ5GQpHhYWNXGSH0scaSGbLvYMtWLWpp9G/hNW/o\nBMwErfuYjMX8q+s+z/3FT3BNt8M4TRcP0yIXCJgspWSE90Hsc901Ej5q8I76AQl6\nQcuWq9qFu6z07vGD0ima39u5sEnps2uGPI6rQ4qY4ZX4x5W3bHlYE60HWN06FowG\nbuGD222znmtVGJ7sVj9RUXhs2CF4Gc7o\n-----END CERTIFICATE-----",
            "certificate": "-----BEGIN CERTIFICATE-----\nMIIDhTCCAm2gAwIBAgIUImp9rteQduo3OheH+Jw/kHaZLxAwDQYJKoZIhvcNAQEL\nBQAwQDEcMBoGA1UEAxMTdmF1bHQuaHVtYmxlbGFiLmNvbTEgMB4GCSqGSIb3DQEJ\nARYRYWRtaW5AZXhhbXBsZS5jb20wHhcNMjAwNDAyMDEyMzEzWhcNMjAwNTA0MDEy\nMzQyWjAeMRwwGgYDVQQDExNtaW5pby5odW1ibGVsYWIuY29tMIIBIjANBgkqhkiG\n9w0BAQEFAAOCAQ8AMIIBCgKCAQEAv84SgmUQpXr4qX9NhaiklxdYBdGBTswKgrj2\nNpheeclXOHY+Z5/dBs2fZAyKlIHMe6BQV6E/Vcilw2nzGFWS8Qsd4WR/vtie6W3Y\nt1Q/cpquoQ3CvFGTiXe7gJDns2EtWyPRRU1pfEHc6BlTsBzhsjkAjCPXHJSnHdRy\nQR1ckYwQ/tZGtIDc0VgLQMYYF1rCncQcOVQFcY7Bolg44tri6VdCnDxiYVZU+01O\n3NjFJPw5Wviot3Cp5IyWmnFp0LoAIbn4kAw9T8mwr0YRpab6k2aajZpAGenRY1t2\nqGDMaAYpZFnFBVwMrFQ1Zse0e1ZeT+dOPMgUeTnAev/xLRweUQIDAQABo4GYMIGV\nMA4GA1UdDwEB/wQEAwIDqDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIw\nHQYDVR0OBBYEFC5hJuIHWY+HGD8z3zILZge5OU7GMB8GA1UdIwQYMBaAFFRPr3Wb\nZFnfUZxFjxZvkjj0XEnUMCQGA1UdEQQdMBuCE21pbmlvLmh1bWJsZWxhYi5jb22H\nBAoAAwIwDQYJKoZIhvcNAQELBQADggEBAIzwgH3OvN/LUaSl05EOCZLqOcIrut/p\n0lFfMsGh676gjzAkgLR/jGdjFKFVmnr0K36EOOf2nBNvXEm/OiYX8JsWRGvsCE8w\nZ4qOkfUf9XRaY6ucNcp7u3KW40YyfNUktRodQv87NqA9hA4f7xFerV/MNmeId0AK\niCNPGYIgyT8LTbz1PnXRv+0AHffce+zYpfSciTnA+n6gP4gtu/6DJsvKzozJU3bw\n0VnX56kIJHdY1h+CycXm1FGewQ2LtHuB/yxNIBC5gzxBivTdKi95tJEylvZg8PJ0\n/CtEG91MHDIbMwNsQKNDFHdmPMkmAggFIMS6YAKnOCUC3E9eMgnnEwE=\n-----END CERTIFICATE-----",
            "common_name": "minio.humblelab.com",
            "exclude_cn_from_sans": null,
            "expiration": 1588555422,
            "format": "pem",
            "id": "pki/humblelab/minio.humblelab.com",
            "ip_sans": [
              "10.0.3.2"
            ],
            "issuing_ca": "-----BEGIN CERTIFICATE-----\nMIIFtDCCBJygAwIBAgITFgAAACp3tnBrUQOsQAABAAAAKjANBgkqhkiG9w0BAQsF\nADBSMRMwEQYKCZImiZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJaHVtYmxl\nbGFiMSAwHgYDVQQDExdodW1ibGVsYWItSFVNQkxFREMwMS1DQTAeFw0yMDAzMjUw\nMTI1MDdaFw0yMjAzMjUwMTM1MDdaMEAxHDAaBgNVBAMTE3ZhdWx0Lmh1bWJsZWxh\nYi5jb20xIDAeBgkqhkiG9w0BCQEWEWFkbWluQGV4YW1wbGUuY29tMIIBIjANBgkq\nhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAp2xbkoodOVN+fOxxZPSNRVuaUtHq9LZk\nuHRvhBSf9HNOgxuSwArphu4YQAFMEBkozLEwZi7gfikU0nLtuVw8kfZplvjFKqEN\nKV1LxVwhHwZ7O5gC0VRTiI9R/+tCAcZH54t9VT97VpZ1CaVHj3TCYpie3LXQ/Pp0\nXzqOraTrIXy4STxzTRZokdNdII9sfL5sAzNHUooeOjTRPvKbxEgpF2CVzgoof5CC\nyuSGBgSkV762LUTpru7jtwWjJm1OIYX0/MYZxJ6Vp/Cr8ZHRpoKqtw0n/YDNj0vS\nyV5D70lBCEchJ2CCMgNOOJtiPmlHP2kOfd7BEBx8SSq0p8X00lFPAQIDAQABo4IC\nkzCCAo8wYwYDVR0RBFwwWoITdmF1bHQuaHVtYmxlbGFiLmNvbYIVdmF1bHQtMC5o\ndW1ibGVsYWIuY29tghV2YXVsdC0xLmh1bWJsZWxhYi5jb22CFXZhdWx0LTIuaHVt\nYmxlbGFiLmNvbTAdBgNVHQ4EFgQUVE+vdZtkWd9RnEWPFm+SOPRcSdQwHwYDVR0j\nBBgwFoAUj0bjmbCkJ+iDsUNOW77hXZYZbcowgd0GA1UdHwSB1TCB0jCBz6CBzKCB\nyYaBxmxkYXA6Ly8vQ049aHVtYmxlbGFiLUhVTUJMRURDMDEtQ0EoMSksQ049aHVt\nYmxlZGMwMSxDTj1DRFAsQ049UHVibGljJTIwS2V5JTIwU2VydmljZXMsQ049U2Vy\ndmljZXMsQ049Q29uZmlndXJhdGlvbixEQz1odW1ibGVsYWIsREM9Y29tP2NlcnRp\nZmljYXRlUmV2b2NhdGlvbkxpc3Q/YmFzZT9vYmplY3RDbGFzcz1jUkxEaXN0cmli\ndXRpb25Qb2ludDCBywYIKwYBBQUHAQEEgb4wgbswgbgGCCsGAQUFBzAChoGrbGRh\ncDovLy9DTj1odW1ibGVsYWItSFVNQkxFREMwMS1DQSxDTj1BSUEsQ049UHVibGlj\nJTIwS2V5JTIwU2VydmljZXMsQ049U2VydmljZXMsQ049Q29uZmlndXJhdGlvbixE\nQz1odW1ibGVsYWIsREM9Y29tP2NBQ2VydGlmaWNhdGU/YmFzZT9vYmplY3RDbGFz\ncz1jZXJ0aWZpY2F0aW9uQXV0aG9yaXR5MBkGCSsGAQQBgjcUAgQMHgoAUwB1AGIA\nQwBBMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgGGMA0GCSqGSIb3DQEB\nCwUAA4IBAQBOqiYBWHJ5NnD5Zk7s8XCSe6LiHYr7ekPbGkg7hR+FJjvShk/43iKS\n5xGtJeLNj7IzrP6GJPg5ts7G03iEnWaUE/Lsu54p/I9cJS/MS0BBbV7QvpRWkIvQ\nsSm2EYqdttzXW2bynhaLL2atzQ5GQpHhYWNXGSH0scaSGbLvYMtWLWpp9G/hNW/o\nBMwErfuYjMX8q+s+z/3FT3BNt8M4TRcP0yIXCJgspWSE90Hsc901Ej5q8I76AQl6\nQcuWq9qFu6z07vGD0ima39u5sEnps2uGPI6rQ4qY4ZX4x5W3bHlYE60HWN06FowG\nbuGD222znmtVGJ7sVj9RUXhs2CF4Gc7o\n-----END CERTIFICATE-----",
            "min_seconds_remaining": 604800,
            "name": "humblelab",
            "other_sans": null,
            "private_key": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAv84SgmUQpXr4qX9NhaiklxdYBdGBTswKgrj2NpheeclXOHY+\nZ5/dBs2fZAyKlIHMe6BQV6E/Vcilw2nzGFWS8Qsd4WR/vtie6W3Yt1Q/cpquoQ3C\nvFGTiXe7gJDns2EtWyPRRU1pfEHc6BlTsBzhsjkAjCPXHJSnHdRyQR1ckYwQ/tZG\ntIDc0VgLQMYYF1rCncQcOVQFcY7Bolg44tri6VdCnDxiYVZU+01O3NjFJPw5Wvio\nt3Cp5IyWmnFp0LoAIbn4kAw9T8mwr0YRpab6k2aajZpAGenRY1t2qGDMaAYpZFnF\nBVwMrFQ1Zse0e1ZeT+dOPMgUeTnAev/xLRweUQIDAQABAoIBAQCRe0/Ewb2flqd3\ngMyfHaxBwf4M47zttIwgXQS7olS+kT3r4Jwy4ym12E8WhwCx5cXg21c1MGQmv/sj\nPoCZq4a5+BGg/SZ77jiSm7PuUiOR3Mup8xMK3eFHOp7oxIBKKeJKJ9+6bh4dlqNl\nFJjKkw2JrfzBTwoBbqtXT+WdiBTHe6JEqFsok9WlLrVvRPlGIleYUm4HrSwDO9Bg\nWEXaxQv3RgKdDU7JglFTjOjFQSNN34fyCOATuC+ArNBDOrf7NAN3PQ0LO6qUxxYM\nCLPtjnUjCqFtLRzIiBcYamxIwwDs5RSOnc3J3eYMa7cH0DbHo5i9TyDx+pJS+1ZP\niHog3vWVAoGBANDDPVqjbyOx5oT9gt8jo5dDGK/PNsKbr3RKDsVdVcz6PHYqP0Tc\nm6waVgbz+6k92cvtD8cDAuyIQv97kk562cYTy0lHzqczz51q3v2JxVbv0miYr5G5\no3n3sIysfe1sgVHQR8uV93FLJ6PmESEv79vd6DVRL06woD6RakVuwhN3AoGBAOs0\nizgQrtpRyFmOUkNC/wSc12xM+DVoSXHwlB1SM23Xpt4/l2y9z5cLi3Gnirt4Ncbf\nA6qFECH0pINumSyZO38Nbh6Lv3bokP8Br6Bcp+DyY97blMuWq2AlrUTimS6CRzm6\nZ53HEVe2YwL1iK5P4lVjf/6lA4O3himkf7U+U/53AoGBAKkjplALXn6DIovZgfEc\nROzG9fdrYaimzq7fWbxadKvQirAKZpx6SL5V0CFuCBYFALMSbNgG/pV5iR7Jla50\nJoEvhGLpBOu/NJUMA4NT3kkjoUwReR4OU/77yVUQZC663MPWhnTSGlr2UzWdr38+\nAY4X6o1YK4YL4KkQ1BNRO3jdAoGAGJOk+HbFzoo9JR55+g1GGHVLDUX9qZb8FavN\nzkKInTGrfg2nBPXQezf5mianmG83L1CeUXMV/HZTumgUGVTpop0EpKx1lTc37219\nrIQCBr9NMDxBkARuY92L/WawGuwCBUY1DYd/iGrGbci6P3yZadK7zR/w/hJvMmq9\n7XJV1IECgYAIKVQaqTrrF5I4Ks5yH/SqwtX6oyYiGkWo+V7MaQ2bnfBjEoP5wT7j\niJyoPXf9LGBxi7VBSBIasud5HjVBq/V90suT+N8yK4XQvHynFx5GDo9/TkIy102f\nXe/+xlCVwnSwyB5HId+3FrGywiAovSiBRfQYPCfeF56DL0bG+RoamA==\n-----END RSA PRIVATE KEY-----",
            "private_key_format": "der",
            "private_key_type": "rsa",
            "serial_number": "22:6a:7d:ae:d7:90:76:ea:37:3a:17:87:f8:9c:3f:90:76:99:2f:10",
            "ttl": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.infoblox.infoblox_ip_allocation.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vsphere_virtual_machine",
      "name": "this",
      "provider": "provider.vsphere",
      "instances": [
        {
          "schema_version": 3,
          "attributes": {
            "alternate_guest_name": "",
            "annotation": "",
            "boot_delay": 0,
            "boot_retry_delay": 10000,
            "boot_retry_enabled": false,
            "cdrom": [],
            "change_version": "2020-04-07T01:32:07.392696Z",
            "clone": [
              {
                "customize": [],
                "linked_clone": false,
                "ovf_network_map": {},
                "ovf_storage_map": {},
                "template_uuid": "4200fdb4-95a9-c7dc-8c70-3cd124597c1c",
                "timeout": 30
              }
            ],
            "cpu_hot_add_enabled": false,
            "cpu_hot_remove_enabled": false,
            "cpu_limit": -1,
            "cpu_performance_counters_enabled": false,
            "cpu_reservation": 0,
            "cpu_share_count": 2000,
            "cpu_share_level": "normal",
            "custom_attributes": {},
            "datastore_cluster_id": null,
            "datastore_id": "datastore-35",
            "default_ip_address": "10.0.3.2",
            "disk": [
              {
                "attach": false,
                "datastore_id": "datastore-35",
                "device_address": "scsi:0:0",
                "disk_mode": "persistent",
                "disk_sharing": "sharingNone",
                "eagerly_scrub": false,
                "io_limit": -1,
                "io_reservation": 0,
                "io_share_count": 1000,
                "io_share_level": "normal",
                "keep_on_remove": false,
                "key": 2000,
                "label": "disk0",
                "name": "",
                "path": "minio/minio.vmdk",
                "size": 32,
                "storage_policy_id": "",
                "thin_provisioned": true,
                "unit_number": 0,
                "uuid": "6000C294-349f-ccc9-bf95-5b4623d824ea",
                "write_through": false
              }
            ],
            "efi_secure_boot_enabled": false,
            "enable_disk_uuid": false,
            "enable_logging": false,
            "ept_rvi_mode": "automatic",
            "extra_config": {
              "guestinfo.metadata": "bG9jYWwtaG9zdG5hbWU6IG1pbmlvCmluc3RhbmNlLWlkOiBtaW5pbwpuZXR3b3JrOgogIHZlcnNpb246IDIKICBldGhlcm5ldHM6CiAgICBlbnMxOTI6CiAgICAgIGRoY3A0OiBmYWxzZQogICAgICBhZGRyZXNzZXM6CiAgICAgICAgLSAxMC4wLjMuMi8yNAogICAgICBnYXRld2F5NDogMTAuMC4zLjEKICAgICAgbmFtZXNlcnZlcnM6CiAgICAgICAgYWRkcmVzc2VzOiBbIjE5Mi4xNjguMS41IiwiMTkyLjE2OC4xLjYiXQogICAgICA=",
              "guestinfo.metadata.encoding": "base64",
              "guestinfo.userdata": "I2Nsb3VkLWNvbmZpZwp1c2VyczoKICAtIG5hbWU6IGdyYW50CiAgICBzc2gtYXV0aG9yaXplZC1rZXlzOgogICAgIC0gc3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCQVFDOHJxeG9uNGhSeVY1Y0xOWmN6dUpUZThkc1ozM2hwV0hEVTk5M3I0aWlZM3Q5YlhxZm1JSGxJWjdkVEw5M25sdnNnelZkT1lNVkdNT0hNZy9hMVpLMFZSb0tUUzVCQmhCR0plampEVWZXUkF0ZWRaYk05SkU1SEhwa3MrTCtuZjhjT00xNE9zK1EzQlYrejRNallmSUs1WmJWMEl2VWFZMGtzY1FjRThjWm9PVEMyaEh1L01QRG5lS0p4RytIUlFKZnZxdm5XejY5L0VYeWk5aXF0bU9uMFh5OTkwNXF0YlBObERzMWM0cUYreloxcVFDa01ZUDBaNEFWdkxhUEVKWmxQbURuR3F6NXMxdlZiMTMwYVhlMUExMWVxNFJ3Z3ZaUnhYVzhpODhwS3FDR1B1TFJoN2FucXZTSTE1U0xwQTJLV3Z1N3dENUN2aFRpc2MvNlRmVmYKICAgIHN1ZG86IFsnQUxMPShBTEwpIE5PUEFTU1dEOkFMTCddCiAgICBncm91cHM6IHN1ZG8KICAgIHNoZWxsOiAvYmluL2Jhc2gKCnBhY2thZ2VzOgogIC0ganEKICAtIHVuemlwCgp3cml0ZV9maWxlczoKICAtIHBhdGg6IC9ldGMvZW52aXJvbm1lbnQKICAgIGNvbnRlbnQ6IHwKICAgICAgTUlOSU9fQUNDRVNTX0tFWT1hZG1pbgogICAgICBNSU5JT19TRUNSRVRfS0VZPUhhc2hpMTIzIQogICAgYXBwZW5kOiB0cnVlCiAgLSBwYXRoOiAvZXRjL3N5c3RlbWQvc3lzdGVtL21pbmlvLnNlcnZpY2UKICAgIGNvbnRlbnQ6IFcxVnVhWFJkQ2tSbGMyTnlhWEIwYVc5dVBVMXBia2xQQ2tSdlkzVnRaVzUwWVhScGIyNDlhSFIwY0hNNkx5OWtiMk56TG0xcGJpNXBid3BYWVc1MGN6MXVaWFIzYjNKckxXOXViR2x1WlM1MFlYSm5aWFFLUVdaMFpYSTlibVYwZDI5eWF5MXZibXhwYm1VdWRHRnlaMlYwQ2tGemMyVnlkRVpwYkdWSmMwVjRaV04xZEdGaWJHVTlMM1Z6Y2k5c2IyTmhiQzlpYVc0dmJXbHVhVzhLQ2x0VFpYSjJhV05sWFFwWGIzSnJhVzVuUkdseVpXTjBiM0o1UFM5MWMzSXZiRzlqWVd3dkNncFZjMlZ5UFhKdmIzUUtSM0p2ZFhBOWNtOXZkQW9LUlc1MmFYSnZibTFsYm5SR2FXeGxQUzlsZEdNdmJXbHVhVzh1WkM5dGFXNXBid3BGZUdWalUzUmhjblJRY21VOUwySnBiaTlpWVhOb0lDMWpJQ0pwWmlCYklDMTZJRndpSkh0TlNVNUpUMTlXVDB4VlRVVlRmVndpSUYwN0lIUm9aVzRnWldOb2J5QmNJbFpoY21saFlteGxJRTFKVGtsUFgxWlBURlZOUlZNZ2JtOTBJSE5sZENCcGJpQXZaWFJqTDIxcGJtbHZMbVF2YldsdWFXOWNJanNnWlhocGRDQXhPeUJtYVNJS0NrVjRaV05UZEdGeWREMHZkWE55TDJ4dlkyRnNMMkpwYmk5dGFXNXBieUJ6WlhKMlpYSWdKRTFKVGtsUFgwOVFWRk1nSkUxSlRrbFBYMVpQVEZWTlJWTUtDaU1nVEdWMElITjVjM1JsYldRZ2NtVnpkR0Z5ZENCMGFHbHpJSE5sY25acFkyVWdZV3gzWVhsekNsSmxjM1JoY25ROVlXeDNZWGx6Q2dvaklGTndaV05wWm1sbGN5QjBhR1VnYldGNGFXMTFiU0JtYVd4bElHUmxjMk55YVhCMGIzSWdiblZ0WW1WeUlIUm9ZWFFnWTJGdUlHSmxJRzl3Wlc1bFpDQmllU0IwYUdseklIQnliMk5sYzNNS1RHbHRhWFJPVDBaSlRFVTlOalUxTXpZS0NpTWdSR2x6WVdKc1pTQjBhVzFsYjNWMElHeHZaMmxqSUdGdVpDQjNZV2wwSUhWdWRHbHNJSEJ5YjJObGMzTWdhWE1nYzNSdmNIQmxaQXBVYVcxbGIzVjBVM1J2Y0ZObFl6MXBibVpwYm1sMGVRcFRaVzVrVTBsSFMwbE1URDF1YndvS1cwbHVjM1JoYkd4ZENsZGhiblJsWkVKNVBXMTFiSFJwTFhWelpYSXVkR0Z5WjJWMAogICAgcGVybWlzc2lvbnM6ICcwNjQ0JwogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgZW5jb2Rpbmc6IGI2NAogIC0gcGF0aDogL2V0Yy9taW5pby5kL21pbmlvCiAgICBjb250ZW50OiBUVWxPU1U5ZlZrOU1WVTFGVXowaUwzVnpjaTlzYjJOaGJDOXphR0Z5WlM5dGFXNXBieThpQ2sxSlRrbFBYMDlRVkZNOUlpMURJQzlsZEdNdmJXbHVhVzh1WkM4Z0xTMWpaWEowY3kxa2FYSWdMMlYwWXk5dGFXNXBieTVrTDJObGNuUnpJQzB0WVdSa2NtVnpjeUF4TUM0d0xqTXVNam81TURBd0lncE5TVTVKVDE5QlEwTkZVMU5mUzBWWlBXRmtiV2x1Q2sxSlRrbFBYMU5GUTFKRlZGOUxSVms5U0dGemFHa3hNak1oCiAgICBwZXJtaXNzaW9uczogJzA2NDQnCiAgICBvd25lcjogcm9vdDpyb290CiAgICBlbmNvZGluZzogYjY0CiAgLSBwYXRoOiAvZXRjL3N5c3RlbWQvc3lzdGVtL3ZhdWx0LnNlcnZpY2UKICAgIGNvbnRlbnQ6IFcxVnVhWFJkQ2tSbGMyTnlhWEIwYVc5dVBWWmhkV3gwSUVGblpXNTBDbEpsY1hWcGNtVnpQVzVsZEhkdmNtc3ViMjVzYVc1bENncGJVMlZ5ZG1salpWMEtVbVZ6ZEdGeWREMXZiaTFtWVdsc2RYSmxDbEJsY20xcGMzTnBiMjV6VTNSaGNuUlBibXg1UFhSeWRXVUtSWGhsWTFOMFlYSjBVSEpsUFM5elltbHVMM05sZEdOaGNDQW5ZMkZ3WDJsd1kxOXNiMk5yUFN0bGNDY2dMM1Z6Y2k5c2IyTmhiQzlpYVc0dmRtRjFiSFFLUlhobFkxTjBZWEowUFM5MWMzSXZiRzlqWVd3dlltbHVMM1poZFd4MElHRm5aVzUwSUMxamIyNW1hV2NnTDJWMFl5OTJZWFZzZEM1a0wzWmhkV3gwTG1OdmJtWUtSWGhsWTFKbGJHOWhaRDB2WW1sdUwydHBiR3dnTFVoVlVDQWtUVUZKVGxCSlJBcExhV3hzVTJsbmJtRnNQVk5KUjFSRlVrMEtWWE5sY2oxeWIyOTBDa2R5YjNWd1BYSnZiM1FLVEdsdGFYUk5SVTFNVDBOTFBXbHVabWx1YVhSNUNncGJTVzV6ZEdGc2JGMEtWMkZ1ZEdWa1FuazliWFZzZEdrdGRYTmxjaTUwWVhKblpYUT0KICAgIHBlcm1pc3Npb25zOiAnMDY0NCcKICAgIG93bmVyOiByb290OnJvb3QKICAgIGVuY29kaW5nOiBiNjQKICAtIHBhdGg6IC9ldGMvdmF1bHQuZC9yb2xlaWQKICAgIGNvbnRlbnQ6IGNmYTQ2ZDg1LWNiNjctNGY3OC0zMjM5LTBmZjU0NGY2OGE4MQogICAgcGVybWlzc2lvbnM6ICcwNjQ0JwogICAgb3duZXI6IHJvb3Q6cm9vdAogIC0gcGF0aDogL2V0Yy92YXVsdC5kL3NlY3JldGlkCiAgICBjb250ZW50OiBzLktyVksxVnNQZ2owVldUNXpCOWVHZW9uaQogICAgcGVybWlzc2lvbnM6ICcwNjQ0JwogICAgb3duZXI6IHJvb3Q6cm9vdAogIC0gcGF0aDogL2V0Yy92YXVsdC5kL3ZhdWx0LmNvbmYKICAgIGNvbnRlbnQ6IGNHbGtYMlpwYkdVZ1BTQWlMaTl3YVdSbWFXeGxJZ29LZG1GMWJIUWdld29nSUdGa1pISmxjM01nUFNBaWFIUjBjRG92TDNaaGRXeDBMbWgxYldKc1pXeGhZaTVqYjIwNk9ESXdNQ0lLZlFvS1lYVjBiMTloZFhSb0lIc0tJQ0J0WlhSb2IyUWdld29nSUNBZ2RIbHdaU0FnSUQwZ0ltRndjSEp2YkdVaUNpQWdJQ0JqYjI1bWFXY2dQU0I3Q2lBZ0lDQWdJSEp2YkdWZmFXUmZabWxzWlY5d1lYUm9JRDBnSWk5bGRHTXZkbUYxYkhRdVpDOXliMnhsYVdRaUNpQWdJQ0FnSUhObFkzSmxkRjlwWkY5bWFXeGxYM0JoZEdnZ1BTQWlMMlYwWXk5MllYVnNkQzVrTDNObFkzSmxkR2xrSWdvZ0lDQWdJQ0J6WldOeVpYUmZhV1JmY21WemNHOXVjMlZmZDNKaGNIQnBibWRmY0dGMGFDQTlJQ0poZFhSb0wyRndjSEp2YkdVdmNtOXNaUzl0YVc1cGJ5OXpaV055WlhRdGFXUWlDaUFnSUNBZ0lISmxiVzkyWlY5elpXTnlaWFJmYVdSZlptbHNaVjloWm5SbGNsOXlaV0ZrYVc1bklEMGdJbVpoYkhObElnb2dJQ0FnZlFvZ0lIMEtJQ0J6YVc1cklDSm1hV3hsSWlCN0NpQWdJQ0JqYjI1bWFXY2dQU0I3Q2lBZ0lDQWdJSEJoZEdnZ1BTQWlMMlYwWXk5MllYVnNkQzVrTDNOcGJtc2lDaUFnSUNCOUNpQWdmUXA5Q2dwMFpXMXdiR0YwWlNCN0NpQWdZMjl1ZEdWdWRITWdJQ0FnUFNBaWUzc2dkMmwwYUNCelpXTnlaWFFnWENKd2Eya3ZhWE56ZFdVdmFIVnRZbXhsYkdGaVhDSWdYQ0pqYjIxdGIyNWZibUZ0WlQxdGFXNXBieTVvZFcxaWJHVnNZV0l1WTI5dFhDSWdmWDE3ZXlBdVJHRjBZUzVqWlhKMGFXWnBZMkYwWlNCOWZYdDdJR1Z1WkNCOWZTSUtJQ0JrWlhOMGFXNWhkR2x2YmlBOUlDSXZaWFJqTDIxcGJtbHZMbVF2WTJWeWRITXZjSFZpYkdsakxtTnlkQ0lLSUNCaVlXTnJkWEFnSUNBZ0lDQTlJSFJ5ZFdVS0lDQmpiMjF0WVc1a0lDQWdJQ0E5SUNKemVYTjBaVzFqZEd3Z2NtVnpkR0Z5ZENCdGFXNXBieUlLZlFvS2RHVnRjR3hoZEdVZ2V3b2dJR052Ym5SbGJuUnpJQ0FnSUQwZ0ludDdJSGRwZEdnZ2MyVmpjbVYwSUZ3aWNHdHBMMmx6YzNWbEwyaDFiV0pzWld4aFlsd2lJRndpWTI5dGJXOXVYMjVoYldVOWJXbHVhVzh1YUhWdFlteGxiR0ZpTG1OdmJWd2lJSDE5ZTNzZ0xrUmhkR0V1Y0hKcGRtRjBaVjlyWlhrZ2ZYMTdleUJsYm1RZ2ZYMGlDaUFnWkdWemRHbHVZWFJwYjI0Z1BTQWlMMlYwWXk5dGFXNXBieTVrTDJObGNuUnpMM0J5YVhaaGRHVXVhMlY1SWdvZ0lHSmhZMnQxY0NBZ0lDQWdJRDBnZEhKMVpRb2dJR052YlcxaGJtUWdJQ0FnSUQwZ0luTjVjM1JsYldOMGJDQnlaWE4wWVhKMElHMXBibWx2SWdwOUNnbz0KICAgIHBlcm1pc3Npb25zOiAnMDY0NCcKICAgIG93bmVyOiByb290OnJvb3QKICAgIGVuY29kaW5nOiBiNjQKCnJ1bmNtZDoKICAtIGN1cmwgLU8gaHR0cHM6Ly9kbC5taW5pby5pby9zZXJ2ZXIvbWluaW8vcmVsZWFzZS9saW51eC1hbWQ2NC9taW5pbwogIC0gbXYgbWluaW8gL3Vzci9sb2NhbC9iaW4KICAtIGNobW9kICt4IC91c3IvbG9jYWwvYmluL21pbmlvCiAgLSBpbnN0YWxsIC1kIC1tIDA3NTUgLW8gcm9vdCAtZyByb290IC91c3IvbG9jYWwvc2hhcmUvbWluaW8KICAtIHN5c3RlbWN0bCBkYWVtb24tcmVsb2FkCiAgLSBzeXN0ZW1jdGwgcmVzdGFydCBtaW5pbwogIC0gY3VybCAtTyBodHRwczovL3JlbGVhc2VzLmhhc2hpY29ycC5jb20vdmF1bHQvMS40LjAtcmMxK2VudC92YXVsdF8xLjQuMC1yYzErZW50X2xpbnV4X2FtZDY0LnppcAogIC0gdW56aXAgdmF1bHRfMS40LjAtcmMxK2VudF9saW51eF9hbWQ2NC56aXAKICAtIG12IHZhdWx0IC10IC91c3IvbG9jYWwvYmluCiAgLSBjaG1vZCAreCAvdXNyL2xvY2FsL2Jpbi92YXVsdAogIC0gc3lzdGVtY3RsIHJlc3RhcnQgdmF1bHQ=",
              "guestinfo.userdata.encoding": "base64"
            },
            "firmware": "bios",
            "folder": "",
            "force_power_off": true,
            "guest_id": "ubuntu64Guest",
            "guest_ip_addresses": [
              "10.0.3.2",
              "fe80::250:56ff:fe80:5ff6"
            ],
            "host_system_id": "host-648",
            "hv_mode": "hvAuto",
            "id": "4200298e-2ab9-6bc4-3708-deb644dbba4f",
            "ignored_guest_ips": null,
            "imported": null,
            "latency_sensitivity": "normal",
            "memory": 1024,
            "memory_hot_add_enabled": false,
            "memory_limit": -1,
            "memory_reservation": 0,
            "memory_share_count": 10240,
            "memory_share_level": "normal",
            "migrate_wait_timeout": 30,
            "moid": "vm-1017",
            "name": "minio",
            "nested_hv_enabled": false,
            "network_interface": [
              {
                "adapter_type": "vmxnet3",
                "bandwidth_limit": -1,
                "bandwidth_reservation": 0,
                "bandwidth_share_count": 50,
                "bandwidth_share_level": "normal",
                "device_address": "pci:0:7",
                "key": 4000,
                "mac_address": "00:50:56:80:5f:f6",
                "network_id": "network-o737",
                "ovf_mapping": "",
                "use_static_mac": false
              }
            ],
            "num_cores_per_socket": 1,
            "num_cpus": 2,
            "poweron_timeout": 300,
            "reboot_required": false,
            "resource_pool_id": "resgroup-608",
            "run_tools_scripts_after_power_on": true,
            "run_tools_scripts_after_resume": true,
            "run_tools_scripts_before_guest_reboot": false,
            "run_tools_scripts_before_guest_shutdown": true,
            "run_tools_scripts_before_guest_standby": true,
            "scsi_bus_sharing": "noSharing",
            "scsi_controller_count": 1,
            "scsi_type": "pvscsi",
            "shutdown_wait_timeout": 3,
            "storage_policy_id": "",
            "swap_placement_policy": "inherit",
            "sync_time_with_host": false,
            "tags": [],
            "uuid": "4200298e-2ab9-6bc4-3708-deb644dbba4f",
            "vapp": [],
            "vapp_transport": [],
            "vmware_tools_status": "guestToolsRunning",
            "vmx_path": "minio/minio.vmx",
            "wait_for_guest_ip_timeout": 0,
            "wait_for_guest_net_routable": true,
            "wait_for_guest_net_timeout": 0
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjMifQ==",
          "dependencies": [
            "vault_approle_auth_backend_role.this",
            "vault_approle_auth_backend_role_secret_id.this",
            "vault_pki_secret_backend_cert.this"
          ]
        }
      ]
    }
  ]
}
